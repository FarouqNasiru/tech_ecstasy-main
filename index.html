<!DOCTYPE html>
<html lang="en">

<head>
   <!-- basic -->
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <!-- mobile metas -->
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="viewport" content="initial-scale=1, maximum-scale=1">
   <!-- site metas -->
   <title>Tech Ecstasy</title>
   <meta name="keywords" content="">
   <meta name="description" content="">
   <meta name="author" content="">
   <!-- bootstrap css -->
   <link rel="stylesheet" href="css/bootstrap.min.css">
   <!-- style css -->
   <link rel="stylesheet" href="css/style.css">
   <!-- Responsive-->
   <link rel="stylesheet" href="css/responsive.css">
   <!-- fevicon -->
   <link rel="icon" href="images/fevicon.png" type="image/gif" />
   <!-- Scrollbar Custom CSS -->
   <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
   <!-- Tweaks for older IEs-->
   <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css"
      media="screen">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
</head>
<!-- body -->

<body class="main-layout">
   <!-- loader  -->
   <div class="loader_bg">
      <div class="loader"><img src="images/loading.gif" alt="#" /></div>
   </div>
   <!-- end loader -->
   <!-- header -->
   <header>
      <!-- header inner -->
      <div class="header">
         <div class="container-fluid">
            <div class="row">
               <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col logo_section">
                  <div class="full">
                     <div class="center-desk">
                        <div class="logo">
                           <a href="index.html"><img src="images/111112.JPG" alt="#" /></a>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="col-xl-9 col-lg-9 col-md-9 col-sm-9">
                  <nav class="navigation navbar navbar-expand-md navbar-dark ">
                     <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04"
                        aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                     </button>
                     <div class="collapse navbar-collapse" id="navbarsExample04">
                        <ul class="navbar-nav mr-auto">
                           <li class="nav-item active">
                              <a class="nav-link" href="index.html">Home</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="about.html">About</a>
                           </li>

                           <li class="nav-item">
                              <a class="nav-link" href="shop.html">Shop</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="contact.html">Contact Us</a>
                           </li>
                           <li class="nav-item d_none login_btn">
                              <a class="nav-link" href="#">Login</a>
                           </li>
                           <li class="nav-item d_none">
                              <a class="nav-link" href="#">Register</a>
                           </li>
                        </ul>
                     </div>
                  </nav>
               </div>
            </div>
         </div>
      </div>
   </header>
   <!-- end header inner -->
   <!-- end header -->
   <!-- banner -->
   <section class="banner_main">
      <div id="banner1" class="carousel slide" data-ride="carousel">
         <ol class="carousel-indicators">
            <li data-target="#banner1" data-slide-to="0" class="active"></li>
            <li data-target="#banner1" data-slide-to="1"></li>
            <li data-target="#banner1" data-slide-to="2"></li>
         </ol>
         <div class="carousel-inner">
            <div class="carousel-item active">
               <div class="container">
                  <div class="carousel-caption">
                     <div class="text-bg">
                        <h1> <span class="blu">Welcome <br></span>To Tech Ecstasy</h1>
                        <figure><img src="images/laptop-img-2.png" alt="#" /></figure>
                        <a class="read_more" href="shop.html">Shop Now</a>
                     </div>
                  </div>
               </div>
            </div>
            <div class="carousel-item">
               <div class="container">
                  <div class="carousel-caption">
                     <div class="text-bg">
                        <h1> <span class="blu">Welcome <br></span>To Tech Ecstasy</h1>
                        <figure><img src="images/Apple-iPhone-12-PNG-Picture.png" alt="#" /></figure>
                        <a class="read_more" href="shop.html">Shop Now</a>
                     </div>
                  </div>
               </div>
            </div>
            <div class="carousel-item">
               <div class="container">
                  <div class="carousel-caption">
                     <div class="text-bg">
                        <h1> <span class="blu">Welcome <br></span>To Tech Ecstasy</h1>
                        <figure><img src="images/PngItem_5092096.png" alt="#" /></figure>
                        <a class="read_more" href="shop.html">Shop Now</a>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <a class="carousel-control-prev" href="#banner1" role="button" data-slide="prev">
            <i class="fa fa-arrow-left" aria-hidden="true"></i>
         </a>
         <a class="carousel-control-next" href="#banner1" role="button" data-slide="next">
            <i class="fa fa-arrow-right" aria-hidden="true"></i>
         </a>
      </div>
   </section>
   <!-- end banner -->
   <!-- about section -->
   <div class="about">
      <div class="container">
         <div class="row d_flex">
            <div class="col-md-5">
               <div class="about_img">
                  <figure><img src="images/—Pngtree—realistic models smartphone mockup collection_5857101.png"
                        alt="#" /></figure>
               </div>
            </div>
            <div class="col-md-7">
               <div class="titlepage">
                  <h2>About Our Shop</h2>
                  <p>At TECH ECSTASY, we're not just about Sales of devices, we're about people. We believe in the power
                     of humanity and tech to improve lives, and we're committed to values that guide everything we do:
                     innovation, integrity, and customer obsession. Our team is dedicated to delivering solutions that
                     not only meet but exceed your expectations</p>
               </div>
               <a class="read_more" href="about.html">Read More</a>
            </div>
         </div>
      </div>
   </div>
   <!-- about section -->



   <!-- Our Products section -->
   <div class="our-products">
      <div class="container">
         <div class="row">
            <div class="col-md-12">
               <div class="titlepage">
                  <h2>Our Latest Products</h2>
                  <p>Discover the newest additions to our tech collection</p>
               </div>
            </div>
         </div>
         <div class="row" id="latest-products-grid">
            <!-- Products will be loaded dynamically from the database -->
         </div>
         <div class="row">
            <div class="col-md-12 text-center">
               <a class="read_more" href="shop.html">View More</a>
            </div>
         </div>
      </div>
   </div>
   <!-- end Our Products section -->

   <!-- Our shop section -->
   <div id="about" class="shop">
      <div class="container-fluid">
         <div class="row">
            <div class="col-md-5">
               <div class="shop_img">
                  <figure><img src="images/pxfuel.jpg" alt="#" /></figure>
               </div>
            </div>
            <div class="col-md-7 padding_right0">
               <div class="max_width">
                  <div class="titlepage">
                     <h2>Best Phones and Laptops At Our shop</h2>
                     <p>Imagine a world where sales of gadgets and technology knows no bounds”. Where customer’s
                        satisfaction is limitless, and possibilities are endless!!!

                        That's the world we’ve built and put into experience here at TECH ECSTASY. Our journey began
                        with a compassion and passion for consumer’s protection through undiluted; integrity,
                        simplicity, fast delivery and a profound commitment in sales of all technological gadgets and
                        devices... </p>

                     <a class="read_more" href="about.html">Read More</a>
                  </div>
               </div>
            </div>

         </div>
      </div>
   </div>
   <!-- end Our shop section -->
   <!-- clients section -->
   <div class="clients">
      <div class="container">
         <div class="row">
            <div class="col-md-12">
               <div class="titlepage">
                  <h2>What say our clients</h2>
                  <p>Hear from the People Who Matter Most. Real Stories, Real Satisfaction</p>
               </div>
            </div>
         </div>
         <div class="row">
            <div class="col-md-12">
               <div id="myCarousel" class="carousel slide clients_Carousel " data-ride="carousel">
                  <ol class="carousel-indicators">
                     <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                     <li data-target="#myCarousel" data-slide-to="1"></li>
                     <li data-target="#myCarousel" data-slide-to="2"></li>
                  </ol>
                  <div class="carousel-inner">
                     <div class="carousel-item active">
                        <div class="container">
                           <div class="carousel-caption ">
                              <div class="row">
                                 <div class="col-md-12">
                                    <div class="clients_box">
                                       <figure><img src="images/our.png" alt="#" /></figure>
                                       <h3>Grace O.</h3>
                                       <p>I’ve bought multiple gadgets from Tech Ecstasy and they never disappoint.
                                          Their customer service is top-notch, and delivery is always fast. I even got a
                                          follow-up call to confirm I was satisfied with my purchase. Highly recommend!
                                       </p>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="carousel-item">
                        <div class="container">
                           <div class="carousel-caption">
                              <div class="row">
                                 <div class="col-md-12">
                                    <div class="clients_box">
                                       <figure><img src="images/our.png" alt="#" /></figure>
                                       <h3>Daniel M.</h3>
                                       <p>Finally found a tech store I can trust. My new wireless headphones were 100%
                                          original and came with a warranty. Plus, the price was way better than other
                                          stores I checked. Tech Ecstasy is now my go-to!</p>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="carousel-item">
                        <div class="container">
                           <div class="carousel-caption">
                              <div class="row">
                                 <div class="col-md-12">
                                    <div class="clients_box">
                                       <figure><img src="images/our.png" alt="#" /></figure>
                                       <h3>Kelvin T.</h3>
                                       <p>As someone who’s constantly upgrading, I’m impressed by Tech Ecstasy’s wide
                                          range of products. Whether it’s accessories, smartphones, or home gadgets,
                                          they always have what I need.</p>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
                     <i class='fa fa-angle-left'></i>
                  </a>
                  <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
                     <i class='fa fa-angle-right'></i>
                  </a>
               </div>
            </div>
         </div>
      </div>
   </div>
   <!-- end clients section -->
   <!-- contact section -->
   <div id="contact" class="contact">
      <div class="container">
         <div class="row">
            <div class="col-md-6 order-md-2">
               <div class="contact_image">
                  <img src="images/Contact-us-image.PNG" alt="Contact us" class="img-fluid contact-hero" />
               </div>
            </div>
            <div class="col-md-6 order-md-1">
               <form id="request" class="main_form">
                  <div class="row">
                     <div class="col-md-12 ">
                        <h3>Contact Us</h3>
                     </div>
                     <div class="col-md-12 ">
                        <input class="contactus" placeholder="Name" type="type" name="Name">
                     </div>
                     <div class="col-md-12">
                        <input class="contactus" placeholder="Phone Number" type="type" name="Phone Number">
                     </div>
                     <div class="col-md-12">
                        <input class="contactus" placeholder="Email" type="type" name="Email">
                     </div>
                     <div class="col-md-12">
                        <input class="contactusmess" placeholder="Message" type="type" Message="Name">
                     </div>
                     <div class="col-md-12">
                        <button class="send_btn">Send</button>
                     </div>
                  </div>
               </form>
            </div>
         </div>
      </div>

   </div>
   </div>
   <!-- end contact section -->
   <!--  footer -->
   <footer class="footer">
      <div class="footer-container">
         <!-- Company Info Column -->
         <div class="footer-column company-info">
            <img src="images/111113.JPG" alt="Company Logo" class="footer-logo">
            <p class="footer-address">
               The Bond plaza Shop C05,<br>
               No 10 Simbiat Abiola way,<br>
               opposite Lotus Bank,<br>
               Ikeja, Lagos.
            </p>
            <div class="footer-contact">
               <p><i class="fas fa-phone"></i> 0704 277 0234 <br>08162806519 <br>09139187251</p>
               <p><i class="fas fa-envelope"></i> info@techecstasy.com</p>
            </div>
         </div>

         <!-- Navigation Links Column -->
         <div class="footer-column">
            <h3 class="footer-heading">Quick Links</h3>
            <ul class="footer-links">
               <li><a href="#">Home</a></li>
               <li><a href="about.html">About Us</a></li>
               <li><a href="shop.html">Products</a></li>
               <li><a href="contact.html">Contact</a></li>
            </ul>
         </div>



         <!-- Social Media Column -->
         <div class="footer-column social-media">
            <h3 class="footer-heading">Follow Us</h3>
            <div class="social-icons">
               <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
               <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
               <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
               <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>

            </div>


         </div>
      </div>

      <!-- Copyright Section -->
      <div class="footer-bottom">
         <p>&copy; 2023 Designed by THEBRAND.</p>
      </div>
   </footer>
   <!-- end footer -->
   <!-- Javascript files-->
   <script src="js/jquery.min.js"></script>
   <script src="js/popper.min.js"></script>
   <script src="js/bootstrap.bundle.min.js"></script>
   <script src="js/jquery-3.0.0.min.js"></script>
   <!-- sidebar -->
   <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
   <script src="js/custom.js"></script>
   <script>
      // This example adds a marker to indicate the position of Bondi Beach in Sydney,
      // Australia.
      function initMap() {
         var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 11,
            center: { lat: 40.645037, lng: -73.880224 },
         });

         var image = 'images/maps-and-flags.png';
         var beachMarker = new google.maps.Marker({
            position: { lat: 40.645037, lng: -73.880224 },
            map: map,
            icon: image
         });
      }
   </script>

   <!-- Latest Products Loading Script -->
   <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
      import { getFirestore, collection, getDocs, query, orderBy, limit } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-firestore.js";

      // Firebase configuration
      const firebaseConfig = {
         apiKey: "AIzaSyCcwOu27SDWqxPpM9z3WNdVTLKt6OyIPVQ",
         authDomain: "tecstasy-b983f.firebaseapp.com",
         projectId: "tecstasy-b983f",
         storageBucket: "tecstasy-b983f.firebasestorage.app",
         messagingSenderId: "476018649191",
         appId: "1:476018649191:web:658266178580b03f6accc2",
         measurementId: "G-EL41HV8PSE"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Load latest products
      async function loadLatestProducts() {
         const productsGrid = document.getElementById('latest-products-grid');
         
         try {
            let querySnapshot;
            try {
               // Prefer newest first if timestamp exists
               const q = query(collection(db, "products"), orderBy("timestamp", "desc"), limit(4));
               querySnapshot = await getDocs(q);
            } catch (e) {
               // Fallback without orderBy if timestamp missing
               const q = query(collection(db, "products"), limit(4));
               querySnapshot = await getDocs(q);
            }
            
            productsGrid.innerHTML = '';
            let found = 0;
            querySnapshot.forEach((docSnap) => {
               const product = docSnap.data();
               if (!product) return;
               // Show if no quantity or quantity > 0
               if (product.quantity === undefined || product.quantity > 0) {
                  const card = `
                     <div class="col-md-3 col-sm-6">
                        <div class="product-card" data-product-id="${docSnap.id}">
                           <img src="${product.mainImage}" alt="${product.name}" data-product-id="${docSnap.id}">
                           <h3>${product.name ?? ''}</h3>
                           <div class="price-wishlist">
                              <p>₦${product.price ?? ''}</p>
                              <i class="fas fa-heart wishlist-icon" data-product-id="${docSnap.id}"></i>
                           </div>
                        </div>
                     </div>
                  `;
                  productsGrid.innerHTML += card;
                  found++;
               }
            });

            if (found === 0) {
               // As a final fallback, fetch all and slice 4
               const allSnap = await getDocs(collection(db, "products"));
               const items = [];
               allSnap.forEach(d => {
                  const p = d.data();
                  if (p) items.push({ id: d.id, ...p });
               });
               if (items.length > 0) {
                  items.slice(0,4).forEach(p => {
                     productsGrid.innerHTML += `
                        <div class="col-md-3 col-sm-6">
                           <div class="product-card" data-product-id="${p.id}">
                              <img src="${p.mainImage}" alt="${p.name}" data-product-id="${p.id}">
                              <h3>${p.name ?? ''}</h3>
                              <div class="price-wishlist">
                                 <p>₦${p.price ?? ''}</p>
                                 <i class="fas fa-heart wishlist-icon" data-product-id="${p.id}"></i>
                              </div>
                           </div>
                        </div>`;
                  });
               } else {
                  productsGrid.innerHTML = '<div class="col-md-12 text-center">No products available at the moment.</div>';
               }
            }

            // Add click handlers
            document.querySelectorAll('.our-products .product-card').forEach(card => {
               card.addEventListener('click', (e) => {
                  if (e.target.classList.contains('wishlist-icon')) return;
                  const productId = card.getAttribute('data-product-id');
                  window.location.href = `product.html?id=${productId}`;
               });
            });

            document.querySelectorAll('.our-products .wishlist-icon').forEach(icon => {
               icon.addEventListener('click', (e) => {
                  e.stopPropagation();
                  icon.classList.toggle('active');
               });
            });

         } catch (error) {
            console.error("Error loading latest products:", error);
            productsGrid.innerHTML = '<div class="col-md-12 text-center">Error loading products. Please try again.</div>';
         }
      }

      // Load products when page loads
      document.addEventListener('DOMContentLoaded', loadLatestProducts);
   </script>

</body>

</html>